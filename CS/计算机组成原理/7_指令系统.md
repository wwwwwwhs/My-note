<!--
 * @Author: 崩布猪
 * @Date: 2024-05-29 13:44:16
 * @LastEditors: 崩布猪
 * @LastEditTime: 2024-06-05 14:45:29
 * @FilePath: \CS\计算机组成原理\7_指令系统.md
 * @Description:  指令系统
 * 
-->

## 7.1 机器指令

机器指令：机器指令是指计算机系统中用于控制计算机硬件的二进制代码。
指令系统是指指令的集合。
指令系统的作用是使计算机能够识别并执行指令。

#### 指令的格式

|操作码字段|地址码字段|
|-|-|

操作码长度固定并且可变
扩展操作码技术

__地址码：__
*_四地址_*
|op|a~1~|a~2~|a~3~|a~4~|
|-|-|-|-|-|

(A~1~)op(A~2~)--->(A~3~) 后续指令地址在 A~4~中，访问四次存储器

a~1~~a~4~：是第一操作数 第二操作数 结果操作数 下一条指令地址

*_三地址_：*
|op|a~1~|a~2~|a~3~|
|-|-|-|-|

(A~1~) op (A~2~) ---> (A~3~) 后续指令地址在 PC 中，访问四次存储器

*_二地址_：*
|op|a~1~|a~2~|
|-|-|-|

(A~1~)op(A~2~)--->(A~1~) A~2~还代表中间结果的存放地址，访问四次存储器
但是如果：
(A~1~)op(A~2~)--->ACC 则不需要中间结果的存放地址，访问3次存储器

*一地址：*
|op|a~1~|
|-|-|

(A~1~)op--->ACC 访问2次存储器

*零地址* ：主要做一些只有操作码的指令

操作码扩展
地址吗扩展

**指令字长**
指令字长：指令的总位数，包括操作码和地址码。

## 操作数类型和操作类型

**操作数类型**
| 地址 | 无符号数 |
| - | - |
| 数字 | 定点数、浮点数 十进制数 |
| 字符 | ASCII |
| 逻辑数 | 逻辑运算 |

**操作类型**
数据传送
算数逻辑操作
移位
转移
 - 无条件转移
 - 条件转移
 - 调用与返回
 - 陷阱（Trap）与陷阱指令

输入输出
其他

**数据在存储器中的存放方式**
字节存储 字存储 双字 四字 半字 
高字节存储在低地址 或者 高字节存储在高地址

## 寻址方式

**指令寻址**
通过PC寄存器

**数据寻址**

| 操作码 | 寻址特征 | 形式地址A |
| --- | ---- | ----- |

形式地址 指令中的地址
有效地址 操作数的真实地址
1. 立即数寻址

    | OP | #  | 形式地址A |
    |-|-| - |

    \# 是立即寻址的特征码
    形式地址A 是操作数本身（成为立即数） 补码形式存放

2. 直接寻址
    | OP | 特征码  | A |
    |-|-| - |

    形式地址A 是操作数的真实地址EA A == EA
3. 隐含寻址
    | ADD | 特征码  | A |
    |-|-| - |
    
    操作数的地址隐含在操作码或者某个寄存器中
4. 间接寻址
    | OP | 特征码  | A |
    |-|-| - |

    EA = （A）
5. 寄存器寻址
    | OP | 特征码  | A |
    |-|-| - |

    EA = R~i~
    R~i~位置所指的寄存器
6. 寄存器间接寻址
    | OP | 特征码  | A |
    |-|-| - |

    EA = (R~i~)
    R~i~位置所指的寄存器
7. 基址寻址
    | OP | 特征码  | A |
    |-|-| - |

    EA = BR + A
8. 变址寻址
    | OP | 特征码  | A |
    |-|-| - |

    EA = IX + A
9.  相对寻址
    EA = （PC） + A
10. 堆栈寻址
    
## 指令格式举例

## RISC 技术

例题
7.1
7.2
7.3
