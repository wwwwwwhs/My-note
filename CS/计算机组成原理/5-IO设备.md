<!--
 * _______________#########_______________________ 
 * ______________############_____________________ 
 * ______________#############____________________ 
 * _____________##__###########___________________ 
 * ____________###__######_#####__________________ 
 * ____________###_#######___####_________________ 
 * ___________###__##########_####________________ 
 * __________####__###########_####_______________ 
 * ________#####___###########__#####_____________ 
 * _______######___###_########___#####___________ 
 * _______#####___###___########___######_________ 
 * ______######___###__###########___######_______ 
 * _____######___####_##############__######______ 
 * ____#######__#####################_#######_____ 
 * ____#######__##############################____ 
 * ___#######__######_#################_#######___ 
 * ___#######__######_######_#########___######___ 
 * ___#######____##__######___######_____######___ 
 * ___#######________######____#####_____#####____ 
 * ____######________#####_____#####_____####_____ 
 * _____#####________####______#####_____###______ 
 * ______#####______;###________###______#________ 
 * ________##_______####________####______________ 
 * 
 * @Author: 崩布猪
 * @Date: 2024-04-03 13:33:05
 * @LastEditors: 崩布猪
 * @LastEditTime: 2024-04-10 13:25:54
 * @FilePath: \课业\计算机组成原理\5-IO设备.md
 * @Description: 
 * 重点后三节
 -->
## 概述
### 发展情况
- 早期
- 接口模块和DMA阶段
- 具有通道结构的阶段 
- 具有 I/O 处理机的阶段 

### I/O 系统的组成
- 软件
  - I/O 指令 CPU 指令的一部分 操作码 命令码 设备码
  - 通道命令 通道自身的指令 指出数组的首地址、传送字数、操作命令
- I/O 硬件
  - I/O 接口 I/O 设备控制器

### 与主机的联系方式 * 应用题
#### 编制方式
  - 统一方式
  - 不统一方式

#### 设备寻址
#### 传送方式

   串行：同意瞬间只传送一位
   并行：n位信息 同时 从CPU输出至I/O设备，或IO设备输入CPU
#### 联络方式
  - 立即响应
  - 应答式 异步工作 并行 串行
  - 应答式 同步工作 
### 传送控制方式 *
  - 控制方式
- 程序查询 COU 和 I/O 串行工作
  - 程序中断方式
    - CPU 和 I/O 并行工作  应答式
  - DMA 方式 直接存储器存取方式
    - CPU 和 I/O 之间 加了直接控制通道 
    - 不中断线行的程序，将任务分配给DMA控制器 周期挪用（周期窃取）
硬件
## I/O设备
- 人机交互设备 键盘 鼠标
- 计算机存储设备 u盘 硬盘 机器和机器的通信设备 
- 调制解调器（A/D D/A）光猫 
### I/O 接口
**what**
通常指 主机与 I/O 设备之间设置的一个硬件电路机器相应的软件控制

**why**  *
- 实现设备的选择
- 实现数据缓冲达到匹配速度
- 时间数据 串<--->并 格式转换
- 实现电平转换
- 传送控制命令
- 反应设备的状态

**I/O 总线连接方式：**
- 设备选择线
- 数据线
- 命令线
- 状态线

**I/O 设备的功能和组成**：*
- 选址 --- 设备选择电路
- 传送数据 --- 数据缓冲寄存器DBR
- 传送命令 --- 命令寄存器 和命令译码器
- 反应设备状态的功能 --- 控制逻辑电路


####  程序查询方式

**查询流程**
**接口电路**
**I/O 中断的产生**
中断的概念 *
硬件 *
- 中断向量
- 中断向量地址
**I/O 中断处理过程** *
**条件**
- 不可屏蔽中断： 无条件必须立即响应
- 可屏蔽中断：
  - CPU允许的中断
  - 中断请求未屏蔽
  - 当前优先级最高
时间
CPU在每条指令的执行周期结束前发中断查询信号，指令执行周期结束，进入中断周期。

### DMA查询方式

DMA 接口功能

### 中断

## 例题
-  例5.1 P193
-  5.3
- 5.4
- 
